<%= form_with model: [ guide, guide.activities.build ] do |form| %>
    <div class="flex flex-col">
        <%# Activity Title Field %>
        <%= form.label "Activity Name", class: "font-bold" %>
        <%= form.text_field :title, class: "text-input", placeholder: "Title this part of your day" %>
        <%# Activity Image Upload %>
        <div class="mb-4" data-controller="image-preview">
            <%= form.label :image %>
            <%= form.file_field :image, class: "block text-sm border border-lavender-primary rounded", "data-action":"image-preview#setImgSrcValue" %>
            <%# Image preview element (hidden until image is uploaded) %>
            <%# Uses object-cover to crop image to fit to square box %>
            <img id="preview" data-image-preview-target="preview" class="hidden rounded w-72 h-72 aspect-square" alt="image upload preview"/>
        </div>
        <%# Location Field %>
        <%= form.label :location, class: "font-bold" %>
        <%= form.text_field :location, class: "text-input" %>
        <%# Activity Duration %>
        <%= form.label "Duration", class: "font-bold" %>
        <div class="flex flex-row items-center">
            <div class="flex flex-col">
                <%= form.label :hours_to_complete, class: "hidden" %>
                <%= form.number_field :hours_to_complete, max: 23, min:0, value: 0, class: "px-4 py-3 max-w-sm border border-lavender-primary rounded focus:border-lavender-active focus:ring-lavender-active" %>
            </div>
            <p class="pl-2 pr-4"> hr </p>
            <div class="flex flex-col">
                <%= form.label :minutes_to_complete, class: "hidden" %>
                <%= form.number_field :minutes_to_complete, step: 15, max: 45, min: 0, value: 0, class: "px-4 py-3 max-w-sm border border-lavender-primary rounded focus:border-lavender-active focus:ring-lavender-active" %>
            </div>
            <p class="pl-2"> min </p>
        </div> 
        <%# Activity Description Prompt dropdown %>
        <%= form.label :prompt, class: "font-bold" %>
        <%= form.select :prompt, options_for_select(Activity::PROMPTS), class: "border-lavender-primary text-periwinkle-primary" %>
        <%# Activity Description %>
        <%= form.label :prompt_answer, class: "hidden" %>
        <%= form.text_field :prompt_answer, class: "text-input" %>
    </div>
    <div>
        <%= form.submit "Add Activity", class: "px-4 py-2 my-2 mt-6 font-bold text-white border-0 rounded bg-lavender-primary hover:bg-lavender-hover active:bg-lavender-active" %>
        <%= link_to "I'm Done!", add_tags_guide_path(guide), class: "px-4 py-2 my-2 mt-6 font-bold text-white border-0 rounded bg-periwinkle-primary hover:bg-periwinkle-hover active:bg-periwinkle-active" %>
    </div>
<% end %>
